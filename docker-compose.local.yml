services:
  guardianchain:
    build: .
    ports:
      - "3001:3001"
    environment:
      - NODE_ENV=production
      - PORT=3001
      - NETWORK=testnet
      - REWARD_TOKEN_ADDRESS=0xB29640baDda863e4068b391f147f5E5CCBdCca26
      - USER_VERIFICATION_ADDRESS=0xAF2F75876349FFa6E2fE25912881FA4f126C6ba7
      - REPORT_CONTRACT_ADDRESS=0xa5a1ba6A67369B108782a0f6ad6bb91D97D66F50
      - BACKEND_PRIVATE_KEY=f4217fb895f2ce3408a5bb9d16328c79e0ae30b03196a35f8b57d5663762a6a3
      - TREASURY_ADDRESS=0x0008176869Dc07FfE16a64916DAE7f6BaD75aB96
      - STAKE_AMOUNT=10
      - LOG_LEVEL=info
      - FRONTEND_URL=http://localhost:3001
      - CORS_ORIGIN=http://localhost:3001
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:3001/api/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s
